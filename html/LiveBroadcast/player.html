<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport"
          content="maximum-scale=1.0,minimum-scale=1.0,user-scalable=0,width=device-width,initial-scale=1.0"/>
    <meta name="format-detection" content="telephone=no,email=no,date=no,address=no">
    <title>播放</title>
    <link rel="stylesheet" type="text/css" href="../../css/api.css"/>
    <link rel="stylesheet" type="text/css" href="../../css/static.css"/>
    <style>
        #warp, html, body {
            background: transparent;
        }

        #warp {
            position: absolute;
            width: 100%;
        }

        #header {
            display: flex;
            position: fixed;
            width: 100%;
            height: 2.4rem;
            line-height: 2.4rem;
            z-index: 1000000;
            background-color: transparent;
        }

        .left-box {
            font-size: 1rem;
            margin-left: 0.5rem;
        }

        .right-box {
            position: absolute;
            right: 10px;
        }

        .view {
            height: 12rem;
            position: relative;
            width: 100%;
            background-repeat: no-repeat;
            background-size: cover;
        }

        .Count_down {
            display: -webkit-box;
            position: absolute;
            bottom: 0px;
            height: 2.4rem;
            -webkit-box-align: center;
            width: 100%;
        }

        .Count_down > div {
            -webkit-box-flex: 1;
        }

        .live_now_btn {
            width: 25%;
            padding: 0.3rem 0;
            color: #fff;
            text-align: center;
            border-radius: 5px;
            font-size: 0.6rem;
            margin-right: 1rem;
            background-color: #F3CA7F;
        }

        .nav {
            display: -webkit-box;
            -webkit-box-align: center;
            height: 2.3rem;
            background-color: #fff;
        }

        .nav > div {
            -webkit-box-flex: 1;
            text-align: center;
            font-size: 0.75rem;
            height: 2.2rem;
            line-height: 2.2rem;
            color: #666;
            border-bottom: 2px solid #ddd;
        }

        .navliat {
            color: #d9b270;
            height: 2.2rem;
            line-height: 2.2rem;
            border-bottom: 6px solid #d9b270 !important;
        }

        .makeStyle {
            transition: background-color 1s, color 1s, border 1s;
            background-color: rgba(0, 0, 0, .3);
            border: 1px solid #FF9A35;
            color: #FF9A35;
        }

        .list_Two {
            background-color: #fff !important;
        }

        .textWin {
            width: 100%;
            position: fixed;
            bottom: 0px;
            height: 2.75rem;
            box-sizing: border-box;
            padding: 10px 15px;
            line-height: 2.75rem;
            display: -webkit-box;
            background-color: #ebebeb;
        }

        .textWin > div {
            -webkit-box-flex: 1;
            height: 1.8rem;
            text-indent: 1rem;
            font-size: 0.7rem;
            line-height: 1.8rem;
            border-radius: 8px;
            color: #999;
            background-color: #fff;
        }

        .page {
            position: absolute;
            padding-top: 1rem;
            height: 100%;
            width: 100%;
            overflow-y: auto;
            padding-bottom: 1.5rem;
            background-color: #fff;
        }

        .time {
            display: -webkit-box;
            -webkit-box-align: center;
            -webkit-box-pack: center;
        }

        .time > div {
            background-color: #b2b2b2;
            color: #fff;
            height: 1.5rem;
            padding: 0px 15px;
            line-height: 1.6rem;
            border-radius: 1.5rem;
        }

        .wan_right, .man_left {
            box-sizing: border-box;
            padding: 0 10px;
            display: -webkit-box;
            margin-top: 0.75rem;
        }

        .man_left > img {
            border-radius: 100%;
            margin-right: 1rem;
            width: 40px;
        }

        .wan_right > div, .man_left > div {
            -webkit-box-flex: 1;
        }

        .wan_right > img {
            border-radius: 100%;
            width: 40px;
        }

        .wan_right > div {
            padding-right: 1rem;
        }

        .nickname {
            height: 40px;
            line-height: 40px;
            font-size: 0.75rem;
        }

        .nicknames {
            text-align: right;
            height: 40px;
            line-height: 40px;
            font-size: 0.75rem;
        }

        .desc {
            margin-top: 1rem;
            font-size: 0.7rem;
            border-radius: 0px 20px 20px 20px;
            position: relative;
            margin-right: 3.5rem;
            word-wrap: break-word;
            background-color: #f5f5f9;
            padding: 10px;
            display: inline-block;
        }

        .descs {
            margin-top: 1rem;
            font-size: 0.7rem;
            border-radius: 20px 0px 20px 20px;
            position: relative;
            margin-left: 3.5rem;
            word-wrap: break-word;
            display: inline-block;
            background-color: #f5f5f9;
            padding: 10px;
            float: right;
        }

        .descs > p {
            width: 0;
            position: absolute;
            top: -16px;
            height: 0;
            right: 0px;
            border-bottom: 8px solid #f5f5f9;
            border-top: 8px solid transparent;
            border-right: 8px solid #f5f5f9;
            border-left: 8px solid transparent;
        }

        .desc > p {
            width: 0;
            position: absolute;
            top: -16px;
            height: 0;
            left: 0px;
            border-bottom: 8px solid #f5f5f9;
            border-top: 8px solid transparent;
            border-left: 8px solid #f5f5f9;
            border-right: 8px solid transparent;
        }

        .span {
            color: #fff211;
            margin-left: 10px;
            margin-right: 10px;
        }

        .navlist {
            color: #d9b270 !important;
            border-bottom: 3px solid #d9b270 !important;
        }
    </style>
</head>
<body style="background: #fff">
<div id="warp">
    <header class="aui-bar aui-bar-nav" id="header" style="border-bottom: 0px;">
        <a class="left-box iconfont icon-jiantou z-fanhui" @click="close()"></a>
        <span class="aui-title" style=""></span>
        <span class="right-box"></span>
    </header>
</div>
</body>
<script type="text/javascript" src="../../script/api.js"></script>
<script type="text/javascript" src="../../script/vue.min.js"></script>
<script type="text/javascript" src="../../script/jquery.min.js"></script>
<script type="text/javascript" src="../../script/App.js"></script>
<script type="text/javascript" src="../../script/vue-resource.js"></script>
<script type="text/javascript" src="../../script/public.js"></script>
<script type="text/javascript">
  var app = new Vue({
    el: '#warp',
    data: {
      makeapp: false,
      nav: ['主讲', '互动'],
      session: {},
      palyer: {}
    },
    created: function () {
      apiready = function () {
        $api.fixStatusBar($api.dom('header'));
//        api.setWinAttr({
//          slidBackEnabled: false
//        });
//        api.setStatusBarStyle({
//          style: 'light'
//        });
        app.session = api.pageParam.session;
        api.openFrame({
          name: 'frm_mine',
          url: './frm_mine.html',
          rect: {
            x: 0,
            y: 0,
            w: 'auto',
            h: 'auto'
          },
          pageParam: {
            session: app.session,
          }
        });
      }
    },
    methods: {
      close: function () {
        var publisher = api.require('gotyeLivePublisher');
        var core = api.require('gotyeLiveCore');
        var chat = api.require('gotyeLiveChat');
        api.setFullScreen({
          fullScreen: false
        });
        player.stop();
        publisher.logout();
        publisher.stop();
        core.destroyRoomSession();
        chat.logout();
        api.closeFrame({
          name: 'speaker'
        });
        setTimeout(function () {
          api.closeWin()
        }, 300)
      },
//      openfrmFrame: function (full) {
//        api.closeFrame({name: "frm_mine"});
//        setTimeout(function () {
//          api.openFrame({
//            name: 'frm_mine',
//            url: './frm_mine.html',
//            rect: {
//              x: 0,
//              y: 0,
//              w: 'auto',
//              h: 'auto'
//            },
//            pageParam: {
//              session: app.session,
//              fullScreen: full
//            }
//          });
//        }, 500)
//      }
    }
  })
</script>
</html>